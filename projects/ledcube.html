<!DOCTYPE HTML>
<html>
	<head>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="../style.css">
		<link rel="stylesheet" href="project.css">
		<title>LED Cube</title>
	</head>
	<body>
		<div id="navigation"></div>
		<header>LED Cube</header>
		
		<div class="container-xl">
			<div class="row pt-2">
                <div class="col-8">
                    <h1 id="description">Description</h1>
                    <p>
                        An LED cube is a number of LEDs arranged in a cube which can create patterns or ambient lighting by changing the colours of the LEDs. I chose to make a 5x5x5 LED cube meaning there are 125 LEDs in total.<br />
                        This was my first electronics project and I gained inspiration from <a href="https://www.youtube.com/watch?v=jX1GaPgSheI">this video</a>.<br />
                        All of the LEDs are controlled with one signal by linking them together in a chain, setting the red, green and blue channels of each LED individually.<br />
                        Can be controlled by most Arduino based microcontrollers. I used the Arduino Due for its high processing power.<br />
                    </p>
                    <h1 id="skills">Skills</h1>
                    <ul>
                        <li>Using software to interface with hardware</li>
                        <li>Wiring and soldering</li>
                        <li>Writing software that is adaptable to different hardware configurations</li>
                        <li>Use of jigs for batch manufacturing</li>
                        <li>Creating a framework to build software with</li>
                    </ul>
                    <h1 id="features">Closer Look</h1>
                </div>
                <div class="col-4">
                    <br />
                    <br />
                    <video autoplay loop muted controls width="100%">
                        <source type="video/webm" src="../img/ledcube/example.webm" />
                        Video unavailable
                    </video>
                </div>
			</div>
			
			<div class="row">
                <div class="row p-0">
                    <div class="col">
                        <h2>LEDs</h2>
                        <ul>
                            <figcaption>8mm PL9823 RGB LEDs</figcaption>
                            <li>Large size and individually addressable</li>
                            <li>Doesn't need additional hardware (i.e. registers) which saves complexity and cost</li>
                            <li>Pins: ground, power, data in and data out</li>
                            <li>Data out pin: connects to data in of the next LED, creating a chain so the microcontroller can control multiple LEDs with one data in pin</li>
                        </ul>
                        <ul>
                            <figcaption>LED preperation</figcaption>
                            <li>Each of the LEDs had their red, green and blue channels tested</li>
                            <li>Then the pins were bent, ready for soldering (see image)</li>
                        </ul>
                    </div>
                    <div class="col-12 col-sm-4 col-md-3">
                        <img class="float-end" src="../img/ledcube/led.jpg" />
                    </div>
                </div>
                <h2>Structure</h2>
                <ul>
                    <figcaption>Structure Wires</figcaption>
                    <li>The structure is made from the wires themselves so they must be rigid and perfectly straight</li>
                    <li>Silvered copper wire was chosen because it is rust resistant and sturdy</li>
                    <li>To straighten the wires they were held on one end with pliers and the other end to a drill and spun, making them very straight and work hardened</li>
                </ul>
                <div class="row p-0">
                    <div class="col">
                        <ul>
                            <figcaption>Pin configuration</figcaption>
                            <li>The structure is made from 25 columns of LEDs, connected to eachother by rows and layers</li>
                            <li>The power wires are connected vertically and the data wires is connected horizontally</li>
                            <li>The columns are connected in rows with short wires (which are data lines), and the ends of each row connects to the next</li>
                            <li>Five rows make up a layer, and the end of each layer is connected to the next</li>
                            <li>I made a jig for soldering the columns which ensures even spacing between the layers and aligns the LEDs orientation</li>
                        </ul>
                    </div>
                    <div class="col-12 col-sm-4 col-md-3">
                        <img class="float-end" src="../img/ledcube/pins.png" />
                    </div>
                </div>
				<h2>Base</h2>
                <ul>
                    <li>Sheet of 5mm acrylic with holes for the wires</li>
                    <li>On the bottom of the base the power and ground wires connect in a grid, allowing the current to be distributed through multiple wires</li>
                    <li>Version 1: prototype acrylic feet</li>
					<img class="main-picture" src="../img/ledcube/feetV1.jpg" /><br />
                    <li>Version 2: 3D printed rim that hides wiring, looks more uniform, and allows for tilting</li>
					<img class="main-picture" src="../img/ledcube/feetV2.jpg" />
                </ul>
				<h2>Power</h2>
                <ul>
                    <li>Uses a 5 Volt, 10 Amp transformer plugged into the wall</li>
                    <li>Each LED pulls a maximum of 60 - 100 mA (all channels at max brightness), giving an absolute maximum current draw of 7.5 to 12.5 Amps</li>
                    <li>Due to the absolute maximum current draw being very unlikely 10 Amps gives lots of headroom for normal operations</li>
                    <li>Long wires (1m from fused plug to transformer and 2.5m wire from transformer to cube) allows for flexibility of placement</li>
                </ul>
				<h2>Code</h2>
                <ul>
                    <li>Written for Arduino devices using the FastLED library</li>
                    <li>The program starts by selecting the size of the cube, adding pins and testing the LEDs</li>
                    <li>Then the user can queue animations to be played. Animations can be queued dynamically so, for example, it would be possible to be controlled wirelessly to add animations</li>
                    <li>Animations are functions update the lights each time they are called, creating an animation when called multiple times</li>
                    <li>The animations have to main functions: setup and update. They also have settings like brightness, speed and how many times it loops</li>
                    <li>Most animations use helper functions which I have called transforms. These include moving or rotating which LEDs are lit up</li>
                    <li>The LED_Cube class handles setup, playing animations and interfacing with the hardware. It also has other core functions such as setting LEDs and retrieving cube info</li>
                    <li>The LED_Cube class allows for LEDs to be accessed by using the physical location of the LED with x, y and z coordinates (instead of with a one dimensional array), which is intuitive and allows for more readable code</li>
                    <li>The LEDs can still be addressed directly if needed, which stops the animations from being limited by the abstraction in the point above</li>
                    <li>The animations are held in objects and each animation having its own class. They all inherit from a base animation class and overwrite the setup and update functions</li>
                    <li>This is the second version of the code. I used the lessons learned from the first version to make the code configurable and much easier to work with and expand upon</li>
                </ul>
                <ul>
                    <figcaption>Animations</figcaption>
                    <li>Rain animation: my favourite animation</li>
                    <li>Scrolling text: text travels around the outside of the cube to display a message</li>
                    <li>Wave animation: creates a wave that rises and falls in a specified colour</li>
                    <li>Rainbow animations: set the cube to a solid colour, lines of colours or randomly, then slowly change the hue, cycling through colours</li>
                    <li>3D snake: For something different I made the cube be able to play the game snake in 3D. It uses an infrared reciever and a TV remote as the controller. It is interesting to play but would work better on a larger cube...</li>
                </ul>
			</div>
			
			<div class="row pt-3">
				<h1 id="future">Looking Forward</h1>
				<ul>
					<li>I could create a larger cube which would allow for more complex and impressive animations</li>
					<li>The design could be changed to be more modular and have easier connections</li>
					<li>The reliability could be improved, for example with capacitors and fuses</li>
				</ul>
			</div>
			
			<div class="row pt-3">
				<h1 id="files">Files and Links</h1>
				<p>
					<a href="https://github.com/MSchmidt951/LED-Cube">Source Code</a><br />
					<a href="https://drive.google.com/drive/folders/14EtR4Qhlec4da6xeiWdam_K1A6c4hWzG">Source Code (3D snake)</a>
				</p>
			</div>
		</div>
		
		<footer id="footer"></footer>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<script src="../navbar.js"></script>
	</body>
</html>
